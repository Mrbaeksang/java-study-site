<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¨ MVC íŒ¨í„´ ì´í•´ - ìŠ¤í”„ë§ ë¶€íŠ¸ ì™„ì „ ì •ë³µ</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .section {
      background: var(--vscode-darker);
      border: 1px solid var(--vscode-highlight);
      border-radius: 8px;
      margin: 2rem auto;
      padding: 2rem;
      max-width: 1000px;
    }
    h1, h2, h3, h4 {
      color: #4ec9b0;
    }
    h2 {
      border-bottom: 2px solid var(--vscode-highlight);
      padding-bottom: 0.5rem;
      margin-top: 2.5rem;
    }
    h3 {
      margin-top: 2rem;
      color: #9cdcfe;
    }
    p, li {
      line-height: 1.7;
      color: var(--vscode-text);
    }
    .code-block {
      background: #2d2d2d;
      padding: 1rem;
      border-radius: 6px;
      font-family: 'Consolas', monospace;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .mvc-diagram {
      max-width: 100%;
      margin: 2rem 0;
      text-align: center;
    }
    .mvc-diagram img {
      max-width: 100%;
      height: auto;
      border: 1px solid #444;
      border-radius: 8px;
    }
    .note {
      border-left: 4px solid var(--vscode-blue);
      padding: 1rem;
      margin: 1rem 0;
      background: rgba(0, 122, 204, 0.1);
    }
    .tip {
      border-left: 4px solid #85e89d;
      padding: 1rem;
      margin: 1rem 0;
      background: rgba(133, 232, 157, 0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ¨ MVC íŒ¨í„´ ì´í•´</h1>
      <p class="intro-text">ìŠ¤í”„ë§ MVCì˜ êµ¬ì¡°ì™€ ë™ì‘ ë°©ì‹ì„ ì´í•´í•˜ê³  íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>
    </header>

    <main>
      <div class="section">
        <h2>1. MVC íŒ¨í„´ì´ë€?</h2>
        <p>MVC(Model-View-Controller)ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¸ ê°€ì§€ ì£¼ìš” êµ¬ì„± ìš”ì†Œë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>
        
        <div class="mvc-diagram">
          <svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
            <!-- Controller -->
            <rect x="50" y="100" width="120" height="80" rx="10" ry="10" fill="#4EC9B0" opacity="0.8" />
            <text x="110" y="145" text-anchor="middle" fill="white" font-weight="bold">Controller</text>
            
            <!-- Model -->
            <rect x="240" y="100" width="120" height="80" rx="10" ry="10" fill="#569CD6" opacity="0.8" />
            <text x="300" y="145" text-anchor="middle" fill="white" font-weight="bold">Model</text>
            
            <!-- View -->
            <rect x="430" y="100" width="120" height="80" rx="10" ry="10" fill="#CE9178" opacity="0.8" />
            <text x="490" y="145" text-anchor="middle" fill="white" font-weight="bold">View</text>
            
            <!-- Arrows -->
            <line x1="170" y1="140" x2="240" y2="140" stroke="white" stroke-width="2" marker-end="url(#arrowhead)" />
            <line x1="360" y1="140" x2="430" y2="140" stroke="white" stroke-width="2" marker-end="url(#arrowhead)" />
            <line x1="300" y1="180" x2="300" y2="220" stroke="white" stroke-width="2" stroke-dasharray="5,5" />
            <line x1="300" y1="220" x2="110" y2="220" stroke="white" stroke-width="2" stroke-dasharray="5,5" />
            <line x1="110" y1="220" x1="110" y2="180" stroke="white" stroke-width="2" stroke-dasharray="5,5" />
            
            <!-- Arrowhead definition -->
            <defs>
              <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                <polygon points="0 0, 10 3.5, 0 7" fill="white" />
              </marker>
            </defs>
            
            <!-- Labels -->
            <text x="205" y="135" text-anchor="middle" fill="white" font-size="12">ìš”ì²­</text>
            <text x="395" y="135" text-anchor="middle" fill="white" font-size="12">ì‘ë‹µ</text>
            <text x="200" y="250" text-anchor="middle" fill="white" font-size="12">ì—…ë°ì´íŠ¸</text>
          </svg>
        </div>
        
        <h3>1.1 ëª¨ë¸(Model)</h3>
        <ul>
          <li>ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹</li>
          <li>ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ìƒí˜¸ì‘ìš© ì²˜ë¦¬</li>
          <li>ë„ë©”ì¸ ëª¨ë¸, ì„œë¹„ìŠ¤, ë¦¬í¬ì§€í† ë¦¬ ë“±ì´ ì—¬ê¸°ì— í•´ë‹¹</li>
        </ul>
        
        <h3>1.2 ë·°(View)</h3>
        <ul>
          <li>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹´ë‹¹</li>
          <li>ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„</li>
          <li>HTML, Thymeleaf, JSP, JSON/XML ì‘ë‹µ ë“±ì´ ì—¬ê¸°ì— í•´ë‹¹</li>
        </ul>
        
        <h3>1.3 ì»¨íŠ¸ë¡¤ëŸ¬(Controller)</h3>
       ul>
          <li>ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ ëª¨ë¸ê³¼ ë·° ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ì„ ì¡°ì •</li>
          <li>ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì ì ˆí•œ ì‘ë‹µì„ ë°˜í™˜</li>
          <li>Springì˜ <code>@Controller</code> ë˜ëŠ” <code>@RestController</code>ê°€ ì´ ì—­í• ì„ ë‹´ë‹¹</li>
        </ul>
      </div>
      
      <div class="section">
        <h2>2. ìŠ¤í”„ë§ MVCì˜ ìš”ì²­ ì²˜ë¦¬ íë¦„</h2>
        <p>ìŠ¤í”„ë§ MVCëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì¼ë ¨ì˜ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.</p>
        
        <ol>
          <li><strong>DispatcherServlet</strong>ì´ ìš”ì²­ì„ ìˆ˜ì‹ </li>
          <li>HandlerMappingì„ í†µí•´ ìš”ì²­ì„ ì²˜ë¦¬í•  ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ê²°ì •</li>
          <li>HandlerAdapterë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ í˜¸ì¶œ</li>
          <li>ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì„œë¹„ìŠ¤ ë ˆì´ì–´ë¥¼ í˜¸ì¶œí•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬</li>
          <li>ì„œë¹„ìŠ¤ëŠ” ë¦¬í¬ì§€í† ë¦¬ë¥¼ í†µí•´ ë°ì´í„° ì ‘ê·¼</li>
          <li>ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì²˜ë¦¬ ê²°ê³¼ë¥¼ Modelì— ë‹´ì•„ View ì´ë¦„ ë°˜í™˜</li>
          <li>ViewResolverë¥¼ í†µí•´ ì‹¤ì œ Viewë¥¼ ì°¾ìŒ</li>
          <li>Viewê°€ Modelì„ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µ ìƒì„±</li>
          <li>DispatcherServletì´ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µ ì „ì†¡</li>
        </ol>
        
        <div class="code-block">
          <pre><code>// ì»¨íŠ¸ë¡¤ëŸ¬ ì˜ˆì‹œ
@Controller
@RequestMapping("/products")
public class ProductController {
    
    private final ProductService productService;
    
    public ProductController(ProductService productService) {
        this.productService = productService;
    }
    
    @GetMapping
    public String listProducts(Model model) {
        model.addAttribute("products", productService.findAllProducts());
        return "products/list"; // ë·° ì´ë¦„ ë°˜í™˜
    }
    
    @GetMapping("/{id}")
    public String viewProduct(@PathVariable Long id, Model model) {
        Product product = productService.findProductById(id)
            .orElseThrow(() -> new ResourceNotFoundException("Product not found"));
        model.addAttribute("product", product);
        return "products/view";
    }
    
    @GetMapping("/new")
    public String showProductForm(Model model) {
        model.addAttribute("product", new Product());
        return "products/form";
    }
    
    @PostMapping
    public String saveProduct(@Valid Product product, BindingResult result) {
        if (result.hasErrors()) {
            return "products/form";
        }
        productService.saveProduct(product);
        return "redirect:/products";
    }
}</code></pre>
        </div>
      </div>
      
      <div class="section">
        <h2>3. ìŠ¤í”„ë§ MVCì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸</h2>
        
        <h3>3.1 DispatcherServlet</h3>
        <p>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ì„ êµ¬í˜„í•œ ì„œë¸”ë¦¿ìœ¼ë¡œ, ëª¨ë“  ìš”ì²­ì„ ë¨¼ì € ë°›ì•„ ì ì ˆí•œ í•¸ë“¤ëŸ¬ì— ìœ„ì„í•©ë‹ˆë‹¤.</p>
        
        <h3>3.2 HandlerMapping</h3>
        <p>ìš”ì²­ì„ ì²˜ë¦¬í•  ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë¥¼ ì°¾ì•„ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.</p>
        
        <h3>3.3 HandlerAdapter</h3>
        <p>í•¸ë“¤ëŸ¬ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê³  ModelAndViewë¥¼ ë°˜í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</p>
        
        <h3>3.4 ViewResolver</h3>
        <p>ë·° ì´ë¦„ì„ ì‹¤ì œ ë·° ê°ì²´ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.</p>
        
        <h3>3.5 View</h3>
        <p>í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.</p>
        
        <div class="code-block">
          <pre><code>// WebMvcConfigurerë¥¼ êµ¬í˜„í•˜ì—¬ MVC ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•
@Configuration
@EnableWebMvc
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        // ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ë“±ë¡
        registry.addViewController("/").setViewName("home");
        registry.addViewController("/login").setViewName("login");
    }
    
    @Override
    public void configureViewResolvers(ViewResolverRegistry registry) {
        // ë·° ë¦¬ì¡¸ë²„ ì„¤ì •
        registry.jsp("/WEB-INF/views/", ".jsp");
    }
    
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        // ì •ì  ë¦¬ì†ŒìŠ¤ í•¸ë“¤ëŸ¬ ì„¤ì •
        registry.addResourceHandler("/resources/**")
                .addResourceLocations("/resources/");
    }
    
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        // ì¸í„°ì…‰í„° ë“±ë¡
        registry.addInterceptor(new LoggingInterceptor());
    }
}</code></pre>
        </div>
      </div>
      
      <div class="section">
        <h2>4. ëª¨ë¸ ì†ì„±ê³¼ ë°ì´í„° ë°”ì¸ë”©</h2>
        
        <h3>4.1 @ModelAttribute</h3>
        <p>ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ë‚˜ ë©”ì„œë“œ ìˆ˜ì¤€ì—ì„œ ì‚¬ìš©ë˜ì–´ ëª¨ë¸ì— ì†ì„±ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë°”ì¸ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        
        <div class="code-block">
          <pre><code>// ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì— ê³µí†µ ëª¨ë¸ ì†ì„± ì¶”ê°€
@ModelAttribute("categories")
public List&lt;String&gt; populateCategories() {
    return Arrays.asList("ì „ìì œí’ˆ", "ì˜ë¥˜", "ë„ì„œ", "ìƒí™œìš©í’ˆ");
}

// í¼ ì œì¶œ ì‹œ ë°ì´í„° ë°”ì¸ë”©
@PostMapping("/products")
public String createProduct(@ModelAttribute Product product, BindingResult result) {
    if (result.hasErrors()) {
        return "products/form";
    }
    productService.save(product);
    return "redirect:/products/" + product.getId();
}</code></pre>
        </div>
        
        <h3>4.2 @SessionAttributes</h3>
        <p>ëª¨ë¸ ì†ì„±ì„ ì„¸ì…˜ì— ì €ì¥í•˜ì—¬ ì—¬ëŸ¬ ìš”ì²­ì— ê±¸ì³ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        
        <div class="code-block">
          <pre><code>@Controller
@SessionAttributes("shoppingCart")
@RequestMapping("/cart")
public class ShoppingCartController {
    
    @ModelAttribute("shoppingCart")
    public ShoppingCart initializeCart() {
        return new ShoppingCart();
    }
    
    @PostMapping("/add")
    public String addToCart(@ModelAttribute ShoppingCart cart, @RequestParam Long productId) {
        // ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€ ë¡œì§
        return "redirect:/products";
    }
}</code></pre>
        </div>
      </div>
      
      <div class="section">
        <h2>5. ì˜ˆì™¸ ì²˜ë¦¬</h2>
        <p>ì»¨íŠ¸ë¡¤ëŸ¬ ê³„ì¸µì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.</p>
        
        <h3>5.1 @ExceptionHandler</h3>
        <p>íŠ¹ì • ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
        
        <div class="code-block">
          <pre><code>@Controller
public class ProductController {
    
    @ExceptionHandler(ProductNotFoundException.class)
    public String handleProductNotFound() {
        return "errors/not-found";
    }
    
    @ExceptionHandler({InvalidPriceException.class, EmptyProductException.class})
    public String handleInvalidProduct(RuntimeException ex, Model model) {
        model.addAttribute("error", ex.getMessage());
        return "errors/bad-request";
    }
}</code></pre>
        </div>
        
        <h3>5.2 @ControllerAdvice</h3>
        <p>ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        
        <div class="code-block">
          <pre><code>@ControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity&lt;ErrorResponse&gt; handleResourceNotFound(ResourceNotFoundException ex) {
        ErrorResponse response = new ErrorResponse(
            ex.getMessage(), 
            HttpStatus.NOT_FOUND.value()
        );
        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);
    }
    
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseEntity&lt;ErrorResponse&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {
        List&lt;String&gt; errors = ex.getBindingResult()
                .getFieldErrors()
                .stream()
                .map(error -> error.getField() + ": " + error.getDefaultMessage())
                .collect(Collectors.toList());
                
        ErrorResponse response = new ErrorResponse(
            "ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨",
            HttpStatus.BAD_REQUEST.value(),
            errors
        );
        
        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);
    }
}</code></pre>
        </div>
      </div>
    </main>
    
    <footer>
      <p>Â© 2025 ìŠ¤í”„ë§ ë¶€íŠ¸ ì™„ì „ ì •ë³µ. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p>
    </footer>
  </div>
</body>
</html>
