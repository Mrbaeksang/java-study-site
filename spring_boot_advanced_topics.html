<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“ ìŠ¤í”„ë§ ë¶€íŠ¸ ê³ ê¸‰ ì£¼ì œë“¤ - ìŠ¤í”„ë§ ë¶€íŠ¸ ì™„ì „ ì •ë³µ</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .section {
      background: var(--vscode-darker);
      border: 1px solid var(--vscode-highlight);
      border-radius: 8px;
      margin: 2rem auto;
      padding: 2rem;
      max-width: 1000px;
    }
    h1, h2, h3, h4 {
      color: #4ec9b0;
    }
    h2 {
      border-bottom: 2px solid var(--vscode-highlight);
      padding-bottom: 0.5rem;
      margin-top: 2.5rem;
    }
    h3 {
      margin-top: 2rem;
      color: #9cdcfe;
    }
    p, li {
      line-height: 1.7;
      color: var(--vscode-text);
    }
    .code-block {
      background: #2d2d2d;
      padding: 1rem;
      border-radius: 6px;
      font-family: 'Consolas', monospace;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .note {
      border-left: 4px solid #4ec9b0;
      padding: 1rem;
      margin: 1rem 0;
      background: rgba(78, 201, 176, 0.1);
    }
    .tip {
      border-left: 4px solid #85e89d;
      padding: 1rem;
      margin: 1rem 0;
      background: rgba(133, 232, 157, 0.1);
    }
    .warning {
      border-left: 4px solid #f97583;
      padding: 1rem;
      margin: 1rem 0;
      background: rgba(249, 117, 131, 0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ“ ê³ ê¸‰ ì£¼ì œë“¤</h1>
      <p class="intro-text">ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ê³ ê¸‰ ê¸°ëŠ¥ê³¼ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°°ì›Œë³´ì„¸ìš”.</p>
    </header>

    <main>
      <div class="section">
        <h2>1. ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°</h2>
        <h3>1.1. WebFlux ì†Œê°œ</h3>
        <div class="code-block">
          <pre><code class="java">@RestController
public class ReactiveController {
    
    @GetMapping("/reactive")
    public Flux&lt;Product&gt; getProducts() {
        return productRepository.findAll()
            .doOnNext(product -&gt; 
                log.info("Processing product: {}", product.getName()))
            .map(product -&gt; product.withPrice(product.getPrice() * 1.1));
    }
}</code></pre>
        </div>

        <h3>1.2. ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼</h3>
        <div class="code-block">
          <pre><code class="java">@Service
public class ReactiveService {
    
    public Mono&lt;Product&gt; processProduct(Mono&lt;Product&gt; productMono) {
        return productMono
            .flatMap(product -&gt; validateProduct(product))
            .flatMap(product -&gt; processPayment(product))
            .flatMap(product -&gt; updateInventory(product));
    }
}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>2. í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ</h2>
        <h3>2.1. Spring Cloud Gateway</h3>
        <div class="code-block">
          <pre><code class="yaml">spring:
  cloud:
    gateway:
      routes:
        - id: product-service
          uri: lb://product-service
          predicates:
            - Path=/api/products/**
          filters:
            - CircuitBreaker=name=productService
            - Retry=gatewayRetry</code></pre>
        </div>

        <h3>2.2. Spring Cloud Config</h3>
        <div class="code-block">
          <pre><code class="yaml">spring:
  cloud:
    config:
      server:
        git:
          uri: https://github.com/your-repo/config-repo
          clone-on-start: true
          search-paths: config-files
          username: ${GIT_USERNAME}
          password: ${GIT_PASSWORD}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>3. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤</h2>
        <h3>3.1. Spring Cloud Sleuth</h3>
        <div class="code-block">
          <pre><code class="java">@RestController
public class TraceController {
    
    @Autowired
    private Tracer tracer;

    @GetMapping("/trace")
    public String getTrace() {
        Span span = tracer.nextSpan().name("process-request").start();
        try (Tracer.SpanInScope ws = tracer.withSpan(span.start())) {
            // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
            return "Traced request";
        } finally {
            span.end();
        }
    }
}</code></pre>
        </div>

        <h3>3.2. Spring Cloud Stream</h3>
        <div class="code-block">
          <pre><code class="java">@Service
public class MessageProcessor {
    
    @StreamListener(Processor.INPUT)
    public void process(Message&lt;Order&gt; message) {
        Order order = message.getPayload();
        // ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§
    }

    @Bean
    public MessageChannel outputChannel() {
        return MessageChannels.direct().get();
    }
}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>4. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”</h2>
        <h3>4.1. JPA ìµœì í™”</h3>
        <div class="code-block">
          <pre><code class="java">@Entity
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @ManyToOne(fetch = FetchType.LAZY)
    private Category category;
    
    @OneToMany(mappedBy = "product", fetch = FetchType.LAZY)
    private List&lt;OrderItem&gt; orderItems;

    @QueryHints({
        @QueryHint(name = "org.hibernate.cacheable", value = "true")
    })
    public List&lt;Product&gt; findAll() {
        return productRepository.findAll();
    }
}</code></pre>
        </div>

        <h3>4.2. QueryDSL ì‚¬ìš©</h3>
        <div class="code-block">
          <pre><code class="java">@Service
public class ProductService {
    
    @Autowired
    private JPAQueryFactory queryFactory;

    public List&lt;Product&gt; findProductsByCategory(Long categoryId) {
        return queryFactory
            .selectFrom(QProduct.product)
            .where(QProduct.product.category.id.eq(categoryId))
            .fetch();
    }
}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>5. ëª¨ë‹ˆí„°ë§ê³¼ ê´€ë¦¬</h2>
        <h3>5.1. Micrometer</h3>
        <div class="code-block">
          <pre><code class="java">@RestController
public class MetricsController {
    
    @Autowired
    private MeterRegistry registry;

    @GetMapping("/metrics")
    public Map&lt;String, Object&gt; getMetrics() {
        return registry.getMeters()
            .stream()
            .collect(Collectors.toMap(
                Meter::getId,
                meter -&gt; meter.measure()
                    .stream()
                    .findFirst()
                    .map(Measurement::getValue)
                    .orElse(0.0)
            ));
    }
}</code></pre>
        </div>

        <h3>5.2. Spring Boot Actuator</h3>
        <div class="code-block">
          <pre><code class="yaml">management:
  endpoints:
    web:
      exposure:
        include: "health,info,metrics,env"
  endpoint:
    health:
      show-details: always
    info:
      show-details: always
    metrics:
      enabled: true
      tags:
        application: ${spring.application.name}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>6. ë³´ì•ˆ ê°•í™”</h2>
        <h3>6.1. JWT ì¸ì¦</h3>
        <div class="code-block">
          <pre><code class="java">@Service
public class JwtService {
    private final String SECRET_KEY = "secretkey";
    private final long EXPIRATION = 1000 * 60 * 60 * 24;

    public String generateToken(UserDetails userDetails) {
        return Jwts.builder()
            .setSubject(userDetails.getUsername())
            .setIssuedAt(new Date(System.currentTimeMillis()))
            .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION))
            .signWith(getSignInKey(), SignatureAlgorithm.HS256)
            .compact();
    }

    private Key getSignInKey() {
        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);
        return Keys.hmacShaKeyFor(keyBytes);
    }
}</code></pre>
        </div>

        <h3>6.2. OAuth2 ì¸ì¦</h3>
        <div class="code-block">
          <pre><code class="java">@Configuration
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(auth -&gt; auth
                .requestMatchers("/public/**").permitAll()
                .anyRequest().authenticated()
            )
            .oauth2Login(oauth2 -&gt; oauth2
                .loginPage("/login")
                .defaultSuccessUrl("/home")
            )
            .oauth2ResourceServer(oauth2 -&gt; oauth2
                .jwt(jwt -&gt; jwt
                    .jwtAuthenticationConverter(jwtAuthenticationConverter()))
            );
        
        return http.build();
    }
}</code></pre>
        </div>
      </div>

      <div class="section">
        <h2>7. ë‹¤ìŒ ë‹¨ê³„</h2>
        <p>ì´ì œ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ê³ ê¸‰ ì£¼ì œë“¤ì„ ë°°ì› ìŠµë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì£¼ì œë“¤ì„ ë°°ìš°ê²Œ ë©ë‹ˆë‹¤:</p>
        <ul>
          <li><a href="spring_boot_microservices.html">ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜</a></li>
          <li><a href="spring_boot_cloud.html">í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê°œë°œ</a></li>
          <li><a href="spring_boot_performance.html">ì„±ëŠ¥ ìµœì í™”</a></li>
        </ul>
      </div>
    </main>
  </div>
</body>
</html>
